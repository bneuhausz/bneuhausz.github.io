<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <title>Angular signal forms are out! (Experimentally) - bneuhausz.dev</title>
    <base href="/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="impact-site-verification" value="fadbe9c7-c2b6-4441-b7ef-92e28101384e">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <script defer="" type="application/javascript" src="javascript/klaro/config.js"></script>
    <!-- <script defer src="/javascript/klaro/klaro.js"></script> -->
    <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1479748760290806" crossorigin="anonymous">
    </script>
    <script>
      (function(w,d,e,u,f,l,n){w[f]=w[f]||function(){(w[f].q=w[f].q||[])
      .push(arguments);},l=d.createElement(e),l.async=1,l.src=u,
      n=d.getElementsByTagName(e)[0],n.parentNode.insertBefore(l,n);})
      (window,document,'script','https://assets.mailerlite.com/js/universal.js','ml');
      ml('account', '1754906');
    </script>
    <script type="module" crossorigin="" src="/assets/index-Ds1THEmd.js"></script>
    <link rel="stylesheet" crossorigin="" href="/assets/index-guJYqCx_.css">
  <style ng-app-id="ng">[_nghost-ng-c572653062]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-ng-c572653062]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-ng-c572653062]{color:var(--ng-icon__color, currentColor)}}</style><meta name="description" content="Angular signal forms have been released in an experimental state and it's really promising so far"><meta property="og:title" content="Angular signal forms are out! (Experimentally)"><meta property="og:description" content="Angular signal forms have been released in an experimental state and it's really promising so far"><meta property="og:image" content="https://bneuhausz.dev/images/bneuhausz_dev_twitter.png"><meta property="og:image:alt" content="bneuhausz.dev site logo"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Angular signal forms are out! (Experimentally)"><meta name="twitter:description" content="Angular signal forms have been released in an experimental state and it's really promising so far"><meta name="twitter:image" content="https://bneuhausz.dev/images/bneuhausz_dev_twitter.png"><meta name="twitter:image:alt" content="bneuhausz.dev site logo"><script type="application/ld+json" id="blogpost-ldjson">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Angular signal forms are out! (Experimentally)","image":"/images/angular_gradient_thumbnail.avif","author":{"@type":"Person","name":"B치lint Neuhausz","url":"https://bneuhausz.dev"},"publisher":{"@type":"Organization","name":"bneuhausz.dev","logo":{"@type":"ImageObject","url":"https://bneuhausz.dev/images/nb_logo_small.avif"}},"datePublished":"2025-09-04T00:00:00.000Z","description":"Angular signal forms have been released in an experimental state and it's really promising so far"}</script><link rel="canonical" href="https://yourdomain.com/blog/angular-signal-forms-are-out"></head>
  <body class="text-center h-screen w-screen overflow-x-hidden"><!--nghm-->
    <app-root ng-version="19.2.9" class="flex flex-col h-screen" ngh="3" ng-server-context="ssr-analog"><appheader ngh="0"><nav class="navbar bg-neutral text-amber-100 gap-2 px-8"><a routerlink="/" href="/"><img src="/images/nb_logo_small.avif" alt="logo of the site"></a><a routerlink="/blog" class="btn btn-square btn-ghost hover:bg-amber-100 hover:text-amber-900 px-8" href="/blog"> Blog </a><a routerlink="/about" class="btn btn-square btn-ghost hover:bg-amber-100 hover:text-amber-900 px-8" href="/about"> About </a><span class="flex-1"></span><a href="https://github.com/bneuhausz" target="_blank" rel="noopener"><div class="w-5 h-5 ml-3 bg-amber-100 github-icon"></div></a><a href="mailto:bneuhauszdev@gmail.com" class="flex items-center ml-3"><ng-icon role="img" name="heroEnvelopeSolid" _nghost-ng-c572653062="" aria-hidden="true" data-ng-icon-ssr="" style="--ng-icon__size: 1.5em;" ngh="0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon"><path d="M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"></path><path d="M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"></path></svg></ng-icon></a></nav></appheader><main class="flex-1 py-4 md:px-4 bg-neutral-800 text-amber-100"><router-outlet></router-outlet><div slug="" ngh="2"><article class="flex flex-col items-center *:max-w-screen-xl *:mx-8 md:*:mx-32 pb-8"><img sizes="(max-width: 1280px) 100vw, 1280px" class="w-full h-auto" srcset="/images/angular_wordmark_gradient_header_small.avif 480w, /images/angular_wordmark_gradient_header_medium.avif 800w, /images/angular_wordmark_gradient_header.avif 1280w" src="/images/angular_wordmark_gradient_header.avif" alt="angular gradient image"><p class="flex flex-row items-center my-4"><span>2025-09-04</span><a href="https://github.com/bneuhausz" target="_blank" rel="noopener" class="flex items-center"><span class="w-5 h-5 ml-3 bg-amber-100 github-icon"></span></a><a href="mailto:bneuhauszdev@gmail.com" class="flex items-center ml-3"><ng-icon role="img" name="heroEnvelopeSolid" _nghost-ng-c572653062="" aria-hidden="true" data-ng-icon-ssr="" style="--ng-icon__size: 1.5em;" ngh="0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon"><path d="M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"></path><path d="M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"></path></svg></ng-icon></a></p><div appcodecopybutton="" appexternallinks="" class="prose dark:prose-invert text-left mb-8"><analog-markdown ngh="1"><div class="analog-markdown"><h1 id="angular-signal-forms-are-out-experimentally">Angular signal forms are out! (Experimentally)</h1>
<blockquote>
<sub>
<b>Changelog:</b><br>
<b>2025-09-05:</b> Fixed some typos.<br>
<b>2025-09-06:</b> Added clarification about async issues at the bottom and added link to part 2 about server side validation after submitting.<br>
<b>2025-12-08:</b> This article has been upgraded to the released version of Angular 21.<br>
<b>2026-02-07:</b> This article has been upgraded to Angular version 21.2.0-next.2, in which the Field directive has been renamed to FormField and the customError function has been removed.<br>
</sub></blockquote>
<p>The day has come. Angular signal forms are out! It's in a highly experimental state, but so far, everything seems really promising. Let's take a look at it.</p><p>I'll just go over some examples and use cases quickly, but you can find the source for this project, including a simple Node API using Express in the server folder for async validators, <a href="https://github.com/bneuhausz/angular-signal-forms">here.</a></p><h2 id="the-basics-1">The basics</h2>
<p>Creating a form has never been so simple. I've added Angular Material to have a little bit of styling, so the strictly needed HTML is inflated. I'll remove styles and imports from the examples to make them more readable.</p><p>Either way, take a look at this! Even with the extra lines due to Material, this is incredibly clean:</p><pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">@</span><span style="color:#B392F0">Component</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">  selector: </span><span style="color:#9ECBFF">'app-simple-form'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  imports: [MatFormFieldModule, MatInputModule, FormField],</span></span>
<span class="line"><span style="color:#E1E4E8">  template: </span><span style="color:#9ECBFF">`</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">form</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#85E89D">mat-form-field</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">        &lt;</span><span style="color:#85E89D">mat-label</span><span style="color:#E1E4E8">&gt;First Name&lt;/</span><span style="color:#85E89D">mat-label</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">        &lt;</span><span style="color:#85E89D">input</span><span style="color:#B392F0"> matInput</span><span style="color:#B392F0"> [formField]</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"f.firstName"</span><span style="color:#E1E4E8"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">      &lt;/</span><span style="color:#85E89D">mat-form-field</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#85E89D">mat-form-field</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">        &lt;</span><span style="color:#85E89D">mat-label</span><span style="color:#E1E4E8">&gt;Last Name&lt;/</span><span style="color:#85E89D">mat-label</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">        &lt;</span><span style="color:#85E89D">input</span><span style="color:#B392F0"> matInput</span><span style="color:#B392F0"> [formField]</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"f.lastName"</span><span style="color:#E1E4E8"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">      &lt;/</span><span style="color:#85E89D">mat-form-field</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;/</span><span style="color:#85E89D">form</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#9ECBFF">  `</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">})</span></span>
<span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> default</span><span style="color:#F97583"> class</span><span style="color:#B392F0"> SimpleForm</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#FFAB70">  f</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> form</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">signal</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">    firstName: </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">    lastName: </span><span style="color:#9ECBFF">''</span></span>
<span class="line"><span style="color:#E1E4E8">  }));</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>Yes, this is all the code it takes to create a form with signal forms. Just feed a signal to the new <code>form</code> function and add the <code>[formField]</code> directive to your input of choice and you are done. Just make sure to import everything from the correct module, which, in our case, looks like this:</p><pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { form, FormField } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> "@angular/forms/signals"</span><span style="color:#E1E4E8">;</span></span></code></pre>
<p>Now let's add some basic validators.</p><p>The usual default validators supplied by Angular are available as functions imported from <code>@angular/forms/signals</code> and it is a breeze to use them. The <code>form</code> function accepts a second parameter that we can use to configure the behavior of our form. Let's take a look at an example:</p><pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">&lt;</span><span style="color:#85E89D">form</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">  &lt;</span><span style="color:#85E89D">mat-form-field</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">mat-label</span><span style="color:#E1E4E8">&gt;First Name&lt;/</span><span style="color:#85E89D">mat-label</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">input</span><span style="color:#B392F0"> matInput</span><span style="color:#B392F0"> [formField]</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"f.firstName"</span><span style="color:#E1E4E8"> /&gt;</span></span>
<span class="line"><span style="color:#F97583">    @if</span><span style="color:#E1E4E8"> (f.</span><span style="color:#B392F0">firstName</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">invalid</span><span style="color:#E1E4E8">()) {</span></span>
<span class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#85E89D">mat-error</span><span style="color:#E1E4E8">&gt;{{ f.</span><span style="color:#B392F0">firstName</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">errors</span><span style="color:#E1E4E8">()[0].message }}&lt;/</span><span style="color:#85E89D">mat-error</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  &lt;/</span><span style="color:#85E89D">mat-form-field</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">  &lt;</span><span style="color:#85E89D">mat-form-field</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">mat-label</span><span style="color:#E1E4E8">&gt;Last Name&lt;/</span><span style="color:#85E89D">mat-label</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">input</span><span style="color:#B392F0"> matInput</span><span style="color:#B392F0"> [formField]</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"f.lastName"</span><span style="color:#E1E4E8"> /&gt;</span></span>
<span class="line"><span style="color:#F97583">    @if</span><span style="color:#E1E4E8"> (f.</span><span style="color:#B392F0">lastName</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">invalid</span><span style="color:#E1E4E8">()) {</span></span>
<span class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#85E89D">mat-error</span><span style="color:#E1E4E8">&gt;{{ f.</span><span style="color:#B392F0">lastName</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">errors</span><span style="color:#E1E4E8">()[0].message }}&lt;/</span><span style="color:#85E89D">mat-error</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  &lt;/</span><span style="color:#85E89D">mat-form-field</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">  &lt;</span><span style="color:#85E89D">button</span><span style="color:#B392F0"> mat-button</span><span style="color:#B392F0"> type</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"button"</span><span style="color:#B392F0"> [disabled]</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"f().invalid()"</span><span style="color:#E1E4E8">&gt;Submit&lt;/</span><span style="color:#85E89D">button</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">&lt;/</span><span style="color:#85E89D">form</span><span style="color:#E1E4E8">&gt;</span></span></code></pre>
<pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">f </span><span style="color:#F97583">=</span><span style="color:#B392F0"> form</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">signal</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">  firstName: </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  lastName: </span><span style="color:#9ECBFF">''</span></span>
<span class="line"><span style="color:#E1E4E8">}), </span><span style="color:#FFAB70">p</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">  required</span><span style="color:#E1E4E8">(p.firstName, { message: </span><span style="color:#9ECBFF">'First name is required'</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#B392F0">  required</span><span style="color:#E1E4E8">(p.lastName, { message: </span><span style="color:#9ECBFF">'Last name is required'</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span></code></pre>
<p>Through <code>p</code>, which stands for <code>FieldPath</code>, we can basically walk through the field tree of our form. This <code>FieldPath</code> has a <code>PathKind</code> of <code>Root</code>. For our simple use cases this doesn't really matter, but for more advanced stuff, keep this in mind. So, in our config, we can call the <code>required</code> function and pass the field we want to make required through our <code>FieldPath</code> and that is all there is to it.</p><p>This also adds the <code>required</code> attribute to our input in the end, just like all of the other built in validator functions, which is really cool to be honest.</p><p>The second config parameter is optional, but it can be used to define your own error messages for example. We can also add conditions in our config object to make the validator only apply conditionally, which we will take a look at in a bit.</p><p>Before we do that though, I want to mention the error handling in our HTML. Our form variable created by the <code>form</code> function exposes a signal for each of the properties in our input signal. On these exposed signals, also as signals, we have the usual <code>valid</code>, <code>invalid</code>, <code>errors</code> and so on available. This is also the functionality we used when we added the <code>[formField]</code> directive to our inputs. Same thing with the form itself. We have access to <code>f().invalid()</code> for example.</p><p>Dealing with <code>FormGroups</code> and <code>FormControls</code> will soon be behind us! Well, when signal forms exit the experimental stage anyway.</p><p>By this time, you might ask, okay, but how do we set the values of our inputs if there are no <code>FormGroup</code>s or <code>FormControl</code>s? That's easy too! Since the new <code>form</code> function expects a signal as an input, we can just extract our signal from the form creation like this:</p><pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#F97583">export</span><span style="color:#F97583"> default</span><span style="color:#F97583"> class</span><span style="color:#B392F0"> FormWithValue</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#FFAB70">  model</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> signal</span><span style="color:#E1E4E8">({ name: </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#FFAB70">  f</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> form</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.model);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  constructor</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#79B8FF">    this</span><span style="color:#E1E4E8">.model.</span><span style="color:#B392F0">set</span><span style="color:#E1E4E8">({ name: </span><span style="color:#9ECBFF">'B치lint'</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>So we create our input signal in a separate variable and pass that to <code>form</code>. From now on, every time we interact with the <code>model</code> signal, it is reflected inside our form. Reactivity is awesome, isn't it?</p><p>Before we move on to a little bit - though not much - more advanced topics, let's see how we can deal with extracting the configuration of our form to make our code a bit less cluttered. We take this chance to look at typing our form too, although it was typed already, the type was just inferred from our input signal.</p><pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#F97583">type</span><span style="color:#B392F0"> NameData</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#FFAB70">  firstName</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#FFAB70">  lastName</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> nameSchema</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> schema</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">NameData</span><span style="color:#E1E4E8">&gt;((</span><span style="color:#FFAB70">p</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">  required</span><span style="color:#E1E4E8">(p.firstName, { message: </span><span style="color:#9ECBFF">'First name is required'</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#B392F0">  required</span><span style="color:#E1E4E8">(p.lastName, { message: </span><span style="color:#9ECBFF">'Last name is required'</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span></code></pre>
<p>We created the type for our form and the our config with the <code>schema</code> function. Now, we can pass this to <code>form</code>:</p><pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">model </span><span style="color:#F97583">=</span><span style="color:#B392F0"> signal</span><span style="color:#E1E4E8">&lt;</span><span style="color:#B392F0">NameData</span><span style="color:#E1E4E8">&gt;({</span></span>
<span class="line"><span style="color:#E1E4E8">  firstName: </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  lastName: </span><span style="color:#9ECBFF">''</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"><span style="color:#E1E4E8">f </span><span style="color:#F97583">=</span><span style="color:#B392F0"> form</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">this</span><span style="color:#E1E4E8">.model, nameSchema);</span></span></code></pre>
<p>For the sake of simplicity, we will keep configuring our forms inline in the following examples.</p><h2 id="conditionals">Conditionals</h2>
<p>Okay, so we are in a little bit more advanced territory. First, we'll create a form with an email input, that will be conditionally required. Our condition will be that the user has opted in to receive newsletters by clicking a checkbox. This will be our form definition:</p><pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">f </span><span style="color:#F97583">=</span><span style="color:#B392F0"> form</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">signal</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">  firstName: </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  lastName: </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  canReceiveNewsletter: </span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  email: </span><span style="color:#9ECBFF">''</span></span>
<span class="line"><span style="color:#E1E4E8">}), </span><span style="color:#FFAB70">p</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">  required</span><span style="color:#E1E4E8">(p.firstName, { message: </span><span style="color:#9ECBFF">'First name is required'</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#B392F0">  required</span><span style="color:#E1E4E8">(p.lastName, { message: </span><span style="color:#9ECBFF">'Last name is required'</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#B392F0">  email</span><span style="color:#E1E4E8">(p.email, { message: </span><span style="color:#9ECBFF">'Email is not valid'</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#B392F0">  required</span><span style="color:#E1E4E8">(p.email, { </span><span style="color:#B392F0">when</span><span style="color:#E1E4E8">: ({ </span><span style="color:#FFAB70">valueOf</span><span style="color:#E1E4E8"> }) </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> valueOf</span><span style="color:#E1E4E8">(p.canReceiveNewsletter), message: </span><span style="color:#9ECBFF">'Email is required'</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span></code></pre>
<p>And here is our template:</p><pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">&lt;</span><span style="color:#85E89D">form</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">  &lt;</span><span style="color:#85E89D">mat-form-field</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">mat-label</span><span style="color:#E1E4E8">&gt;First Name&lt;/</span><span style="color:#85E89D">mat-label</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">input</span><span style="color:#B392F0"> matInput</span><span style="color:#B392F0"> [formField]</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"f.firstName"</span><span style="color:#E1E4E8"> /&gt;</span></span>
<span class="line"><span style="color:#F97583">    @if</span><span style="color:#E1E4E8"> (f.</span><span style="color:#B392F0">firstName</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">invalid</span><span style="color:#E1E4E8">()) {</span></span>
<span class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#85E89D">mat-error</span><span style="color:#E1E4E8">&gt;{{ f.</span><span style="color:#B392F0">firstName</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">errors</span><span style="color:#E1E4E8">()[0].message }}&lt;/</span><span style="color:#85E89D">mat-error</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  &lt;/</span><span style="color:#85E89D">mat-form-field</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">  &lt;</span><span style="color:#85E89D">mat-form-field</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">mat-label</span><span style="color:#E1E4E8">&gt;Last Name&lt;/</span><span style="color:#85E89D">mat-label</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">input</span><span style="color:#B392F0"> matInput</span><span style="color:#B392F0"> [formField]</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"f.lastName"</span><span style="color:#E1E4E8"> /&gt;</span></span>
<span class="line"><span style="color:#F97583">    @if</span><span style="color:#E1E4E8"> (f.</span><span style="color:#B392F0">lastName</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">invalid</span><span style="color:#E1E4E8">()) {</span></span>
<span class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#85E89D">mat-error</span><span style="color:#E1E4E8">&gt;{{ f.</span><span style="color:#B392F0">lastName</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">errors</span><span style="color:#E1E4E8">()[0].message }}&lt;/</span><span style="color:#85E89D">mat-error</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  &lt;/</span><span style="color:#85E89D">mat-form-field</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">  &lt;</span><span style="color:#85E89D">mat-form-field</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">mat-label</span><span style="color:#E1E4E8">&gt;Email&lt;/</span><span style="color:#85E89D">mat-label</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">input</span><span style="color:#B392F0"> matInput</span><span style="color:#B392F0"> [formField]</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"f.email"</span><span style="color:#E1E4E8"> /&gt;</span></span>
<span class="line"><span style="color:#F97583">    @if</span><span style="color:#E1E4E8"> (f.</span><span style="color:#B392F0">email</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">invalid</span><span style="color:#E1E4E8">()) {</span></span>
<span class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#85E89D">mat-error</span><span style="color:#E1E4E8">&gt;{{ f.</span><span style="color:#B392F0">email</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">errors</span><span style="color:#E1E4E8">()[0].message }}&lt;/</span><span style="color:#85E89D">mat-error</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  &lt;/</span><span style="color:#85E89D">mat-form-field</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">  &lt;</span><span style="color:#85E89D">mat-checkbox</span><span style="color:#B392F0"> [formField]</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"f.canReceiveNewsletter"</span><span style="color:#E1E4E8">&gt;Send me newsletters!&lt;/</span><span style="color:#85E89D">mat-checkbox</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">  &lt;</span><span style="color:#85E89D">button</span><span style="color:#B392F0"> mat-button</span><span style="color:#B392F0"> type</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"button"</span><span style="color:#B392F0"> [disabled]</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"f().invalid()"</span><span style="color:#E1E4E8">&gt;Submit&lt;/</span><span style="color:#85E89D">button</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">&lt;/</span><span style="color:#85E89D">form</span><span style="color:#E1E4E8">&gt;</span></span></code></pre>
<p>First, notice that we used the built-in <code>email</code> validator. There is not much to say about it, it's working as it always has, maybe just a bit less cumbersome to set up.</p><p>Secondly, let's talk <code>required</code> when it comes to the email. Our extra config so far consisted of just adding a <code>message</code>, but now, we also added the <code>when</code> function. We can extract either <code>value</code> or <code>valueOf</code> from its input and use those to create our condition. This time I've opted for <code>valueOf</code>, which receives <code>p.canReceiveNewsletter</code> as an input, which is our path to the appropriate signal and extracts its value for us. Since it is a boolean value, it returns either <code>true</code> or <code>false</code>, which determines if the email input is required. Incredibly simple, right?</p><p>This is where I think we should mention <code>disabled</code>. In its most simple form, we can just do the following and we're done:</p><pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">f </span><span style="color:#F97583">=</span><span style="color:#B392F0"> form</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">signal</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">  firstName: </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  lastName: </span><span style="color:#9ECBFF">''</span></span>
<span class="line"><span style="color:#E1E4E8">}), </span><span style="color:#FFAB70">p</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">  disabled</span><span style="color:#E1E4E8">(p.lastName);</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span></code></pre>
<p>However, we can make this conditional too, by altering our config to this:</p><pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#B392F0">disabled</span><span style="color:#E1E4E8">(p.lastName, ({ </span><span style="color:#FFAB70">valueOf</span><span style="color:#E1E4E8"> }) </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> valueOf</span><span style="color:#E1E4E8">(p.firstName) </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> 'B치lint'</span><span style="color:#E1E4E8">);</span></span></code></pre>
<p>It is a silly condition, but this way, if we set <code>firstName</code> to my name, <code>lastName</code> becomes disabled. If we remove or add a single character, it will be enabled instantly, which is a huge win for declarative coding.</p><h2 id="cross-field-validation">Cross-field validation</h2>
<p>This example has been going around since we've got our first public demo a few weeks ago, but still, let's take a look at it:</p><pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">&lt;</span><span style="color:#85E89D">form</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">  &lt;</span><span style="color:#85E89D">mat-form-field</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">mat-label</span><span style="color:#E1E4E8">&gt;Password&lt;/</span><span style="color:#85E89D">mat-label</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">input</span><span style="color:#B392F0"> matInput</span><span style="color:#B392F0"> [formField]</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"f.password"</span><span style="color:#E1E4E8"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">  &lt;/</span><span style="color:#85E89D">mat-form-field</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">  &lt;</span><span style="color:#85E89D">mat-form-field</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">mat-label</span><span style="color:#E1E4E8">&gt;Confirm Password&lt;/</span><span style="color:#85E89D">mat-label</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">input</span><span style="color:#B392F0"> matInput</span><span style="color:#B392F0"> [formField]</span><span style="color:#E1E4E8">=</span><span style="color:#9ECBFF">"f.confirm"</span><span style="color:#E1E4E8"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">  &lt;/</span><span style="color:#85E89D">mat-form-field</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  @if</span><span style="color:#E1E4E8"> (</span><span style="color:#B392F0">f</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">errors</span><span style="color:#E1E4E8">()[0]?.kind </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> 'passwordMismatch'</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#85E89D">mat-error</span><span style="color:#E1E4E8">&gt;{{ </span><span style="color:#B392F0">f</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">errors</span><span style="color:#E1E4E8">()[0]?.message }}&lt;/</span><span style="color:#85E89D">mat-error</span><span style="color:#E1E4E8">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">&lt;/</span><span style="color:#85E89D">form</span><span style="color:#E1E4E8">&gt;</span></span></code></pre>
<pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">f </span><span style="color:#F97583">=</span><span style="color:#B392F0"> form</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">signal</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">  password: </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  confirm: </span><span style="color:#9ECBFF">''</span></span>
<span class="line"><span style="color:#E1E4E8">}), </span><span style="color:#FFAB70">p</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">  required</span><span style="color:#E1E4E8">(p.password, { message: </span><span style="color:#9ECBFF">'Password is required'</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#B392F0">  required</span><span style="color:#E1E4E8">(p.confirm, { message: </span><span style="color:#9ECBFF">'Please confirm your password'</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#B392F0">  validate</span><span style="color:#E1E4E8">(p, ({ </span><span style="color:#FFAB70">value</span><span style="color:#E1E4E8"> }) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (</span><span style="color:#B392F0">value</span><span style="color:#E1E4E8">().password </span><span style="color:#F97583">!==</span><span style="color:#B392F0"> value</span><span style="color:#E1E4E8">().confirm) {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#E1E4E8"> { kind: </span><span style="color:#9ECBFF">'passwordMismatch'</span><span style="color:#E1E4E8">, message: </span><span style="color:#9ECBFF">'The password and the password confirmation do not match'</span><span style="color:#E1E4E8"> };</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> [];</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span></code></pre>
<p>With everything we have discussed so far, this is fairly straightforward, but there are some things worth mentioning. One being the general <code>validate</code> function. So far, we've only looked at built in validators, but if you need custom logic, this is how you handle it. Notice, that this time, I opted for <code>value</code> instead of <code>valueOf</code>, but the concept is basically the same. We have access to the values in our form through invoking <code>value</code>. <del>The last thing I want to mention here is to take note of the <code>customError</code> function, which serves to create the error messages for our custom validators.</del></p><h3 id="async-validation">Async validation</h3>
<p>I think this is my favorite feature so far. First, in the repo containing this code, there is a server folder with a simple Express API, that contains these two endpoints, that return true or false depending on if the parameter matches my name:</p><pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">app.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'/api/validate/first-name/:name'</span><span style="color:#E1E4E8">, (</span><span style="color:#FFAB70">req</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">res</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> name</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> req.params.name;</span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (name </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> 'B치lint'</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">    res.</span><span style="color:#B392F0">json</span><span style="color:#E1E4E8">({ valid: </span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#F97583">  else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    res.</span><span style="color:#B392F0">json</span><span style="color:#E1E4E8">({ valid: </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">app.</span><span style="color:#B392F0">get</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'/api/validate/last-name/:name'</span><span style="color:#E1E4E8">, (</span><span style="color:#FFAB70">req</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">res</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  const</span><span style="color:#79B8FF"> name</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> req.params.name;</span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (name </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> 'Neuhausz'</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">    res.</span><span style="color:#B392F0">json</span><span style="color:#E1E4E8">({ valid: </span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#F97583">  else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    res.</span><span style="color:#B392F0">json</span><span style="color:#E1E4E8">({ valid: </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span></code></pre>
<p>And here's our form definition:</p><pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">f </span><span style="color:#F97583">=</span><span style="color:#B392F0"> form</span><span style="color:#E1E4E8">(</span><span style="color:#B392F0">signal</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">  firstName: </span><span style="color:#9ECBFF">''</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  lastName: </span><span style="color:#9ECBFF">''</span></span>
<span class="line"><span style="color:#E1E4E8">}), </span><span style="color:#FFAB70">p</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">  validateHttp</span><span style="color:#E1E4E8">(p.firstName, {</span></span>
<span class="line"><span style="color:#B392F0">    request</span><span style="color:#E1E4E8">: ({ </span><span style="color:#FFAB70">value</span><span style="color:#E1E4E8"> }) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> { </span><span style="color:#F97583">return</span><span style="color:#B392F0"> value</span><span style="color:#E1E4E8">() </span><span style="color:#F97583">?</span><span style="color:#9ECBFF"> `http://localhost:3000/api/validate/first-name/${</span><span style="color:#B392F0">value</span><span style="color:#9ECBFF">()</span><span style="color:#9ECBFF">}`</span><span style="color:#F97583"> :</span><span style="color:#79B8FF"> undefined</span><span style="color:#E1E4E8"> },</span></span>
<span class="line"><span style="color:#B392F0">    onSuccess</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">res</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">res.valid) {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> [{ kind: </span><span style="color:#9ECBFF">'notUnique'</span><span style="color:#E1E4E8">, message: </span><span style="color:#9ECBFF">'First name is not unique'</span><span style="color:#E1E4E8"> }];</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    },</span></span>
<span class="line"><span style="color:#B392F0">    onError</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">error</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> unknown</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">      console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Async validation error:'</span><span style="color:#E1E4E8">, error);</span></span>
<span class="line"><span style="color:#E1E4E8">    },</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"><span style="color:#B392F0">  validateAsync</span><span style="color:#E1E4E8">(p.lastName, {</span></span>
<span class="line"><span style="color:#B392F0">    params</span><span style="color:#E1E4E8">: ({ </span><span style="color:#FFAB70">value</span><span style="color:#E1E4E8"> }) </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> value</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#B392F0">    factory</span><span style="color:#E1E4E8">: (</span><span style="color:#FFAB70">value</span><span style="color:#E1E4E8">) </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> resource</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#B392F0">      params</span><span style="color:#E1E4E8">: () </span><span style="color:#F97583">=&gt;</span><span style="color:#B392F0"> value</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#B392F0">      loader</span><span style="color:#E1E4E8">: </span><span style="color:#F97583">async</span><span style="color:#E1E4E8"> ({ </span><span style="color:#FFAB70">params</span><span style="color:#E1E4E8"> }) </span><span style="color:#F97583">=&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">params) {</span></span>
<span class="line"><span style="color:#F97583">          return</span><span style="color:#79B8FF"> undefined</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#F97583">        const</span><span style="color:#79B8FF"> res</span><span style="color:#F97583"> =</span><span style="color:#F97583"> await</span><span style="color:#B392F0"> fetch</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`http://localhost:3000/api/validate/last-name/${</span><span style="color:#E1E4E8">params</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> res.</span><span style="color:#B392F0">json</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#E1E4E8">    }),</span></span>
<span class="line"><span style="color:#B392F0">    onSuccess</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">res</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> any</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      if</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">!</span><span style="color:#E1E4E8">res.valid) {</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> [{ kind: </span><span style="color:#9ECBFF">'notUnique'</span><span style="color:#E1E4E8">, message: </span><span style="color:#9ECBFF">'Last name is not unique'</span><span style="color:#E1E4E8"> }];</span></span>
<span class="line"><span style="color:#E1E4E8">      }</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#79B8FF"> null</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    },</span></span>
<span class="line"><span style="color:#B392F0">    onError</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">error</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> unknown</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">      console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">'Async validation error:'</span><span style="color:#E1E4E8">, error);</span></span>
<span class="line"><span style="color:#E1E4E8">    },</span></span>
<span class="line"><span style="color:#E1E4E8">  });</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span></code></pre>
<p>Yes, you see that right, we have several ways of handling async validation now. There is <code>validateAsync</code>, which we use for <code>lastName</code> and it uses a <code>resource</code>, but there is also <code>validateHttp</code>, which builds on an <code>httpResource</code>, <a href="https://bneuhausz.dev/blog/angular-httpresource">which we discussed just a few days ago.</a> Personally, I highly prefer <code>httpResource</code>, which is also experimental for now, but hey, signal forms are also highly experimental, so you probably shouldn't be thinking about using <code>validateAsync</code> or <code>validateHttp</code> for now.</p><blockquote>
<sub>
<b>So it turns out, this issue mentioned below is working as intended. I was missguided in thinking that ``MatFormField`` needs to be ``dirty`` to start showing errors, but it needs to be ``touched`` instead.</b>
</sub></blockquote>
<p><del>One thing I noticed here, is that change detection is a bit iffy with these async validators. On our button, <code>[disabled]="f().invalid()"</code> works perfectly, but our inputs only get into an error state, when we click out of them. Same thing happens with our error messages, so it seems that <code>f.firstName().invalid()</code> and <code>f.firstName().errors()[0].message</code> does not pick up the changes. Since everything is very new and experimental, it is no wonder that there are some issues, but it is equally likely that I just messed up something or I haven't noticed something very obvious. If I end up finding a fix for this, I will update this post.</del></p><p>I'm sure there will be lots of changes and additions to this new form type, so I feel like I have to say one more time that everything here is HIGHLY experimental, but I do think it looks great so far. The future is bright.</p><p><a href="https://bneuhausz.dev/blog/angular-signal-forms-applying-server-errors">A bit shorter article about server side validation after submitting has been released. Take a look!</a></p></div><!----></analog-markdown></div></article><!----></div><!----></main><appfooter ngh="0"><footer class="footer-horizontal bg-neutral text-amber-100 p-4"><aside class="flex gap-8 justify-center"><a routerlink="/creative-commons" href="/creative-commons">춸 Creative Commons</a><a routerlink="/privacy" href="/privacy">Privacy Policy</a></aside></footer></appfooter></app-root>
    
  

<script id="ng-state" type="application/json">{"__nghData__":[{},{"c":{"0":[]}},{"t":{"0":"t5"},"c":{"0":[{"i":"t5","r":1}]}},{"c":{"2":[{"i":"c3636043166","r":1}]}}]}</script></body></html>