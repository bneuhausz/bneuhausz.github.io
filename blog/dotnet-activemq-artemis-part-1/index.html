<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <title>AMQP 1.0 Messaging in .NET with Apache Artemis - Part 1 - bneuhausz.dev</title>
    <base href="/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="impact-site-verification" value="fadbe9c7-c2b6-4441-b7ef-92e28101384e">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <script defer="" type="application/javascript" src="javascript/klaro/config.js"></script>
    <!-- <script defer src="/javascript/klaro/klaro.js"></script> -->
    <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1479748760290806" crossorigin="anonymous">
    </script>
    <script>
      (function(w,d,e,u,f,l,n){w[f]=w[f]||function(){(w[f].q=w[f].q||[])
      .push(arguments);},l=d.createElement(e),l.async=1,l.src=u,
      n=d.getElementsByTagName(e)[0],n.parentNode.insertBefore(l,n);})
      (window,document,'script','https://assets.mailerlite.com/js/universal.js','ml');
      ml('account', '1754906');
    </script>
    <script type="module" crossorigin="" src="/assets/index-Ds1THEmd.js"></script>
    <link rel="stylesheet" crossorigin="" href="/assets/index-guJYqCx_.css">
  <style ng-app-id="ng">[_nghost-ng-c572653062]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-ng-c572653062]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-ng-c572653062]{color:var(--ng-icon__color, currentColor)}}</style><meta name="description" content="In this series, we will look at implementing AMQP 1.0 in .NET with Apache ActiveMQ Artemis."><meta property="og:title" content="AMQP 1.0 Messaging in .NET with Apache Artemis - Part 1"><meta property="og:description" content="In this series, we will look at implementing AMQP 1.0 in .NET with Apache ActiveMQ Artemis."><meta property="og:image" content="https://bneuhausz.dev/images/bneuhausz_dev_twitter.png"><meta property="og:image:alt" content="bneuhausz.dev site logo"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="AMQP 1.0 Messaging in .NET with Apache Artemis - Part 1"><meta name="twitter:description" content="In this series, we will look at implementing AMQP 1.0 in .NET with Apache ActiveMQ Artemis."><meta name="twitter:image" content="https://bneuhausz.dev/images/bneuhausz_dev_twitter.png"><meta name="twitter:image:alt" content="bneuhausz.dev site logo"><script type="application/ld+json" id="blogpost-ldjson">{"@context":"https://schema.org","@type":"BlogPosting","headline":"AMQP 1.0 Messaging in .NET with Apache Artemis - Part 1","image":"/images/activemq/activemq-3.svg","author":{"@type":"Person","name":"Bálint Neuhausz","url":"https://bneuhausz.dev"},"publisher":{"@type":"Organization","name":"bneuhausz.dev","logo":{"@type":"ImageObject","url":"https://bneuhausz.dev/images/nb_logo_small.avif"}},"datePublished":"2025-09-27T00:00:00.000Z","description":"In this series, we will look at implementing AMQP 1.0 in .NET with Apache ActiveMQ Artemis."}</script><link rel="canonical" href="https://yourdomain.com/blog/dotnet-activemq-artemis-part-1"></head>
  <body class="text-center h-screen w-screen overflow-x-hidden"><!--nghm-->
    <app-root ng-version="19.2.9" class="flex flex-col h-screen" ngh="3" ng-server-context="ssr-analog"><appheader ngh="0"><nav class="navbar bg-neutral text-amber-100 gap-2 px-8"><a routerlink="/" href="/"><img src="/images/nb_logo_small.avif" alt="logo of the site"></a><a routerlink="/blog" class="btn btn-square btn-ghost hover:bg-amber-100 hover:text-amber-900 px-8" href="/blog"> Blog </a><a routerlink="/about" class="btn btn-square btn-ghost hover:bg-amber-100 hover:text-amber-900 px-8" href="/about"> About </a><span class="flex-1"></span><a href="https://github.com/bneuhausz" target="_blank" rel="noopener"><div class="w-5 h-5 ml-3 bg-amber-100 github-icon"></div></a><a href="mailto:bneuhauszdev@gmail.com" class="flex items-center ml-3"><ng-icon role="img" name="heroEnvelopeSolid" _nghost-ng-c572653062="" aria-hidden="true" data-ng-icon-ssr="" style="--ng-icon__size: 1.5em;" ngh="0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon"><path d="M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"></path><path d="M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"></path></svg></ng-icon></a></nav></appheader><main class="flex-1 py-4 md:px-4 bg-neutral-800 text-amber-100"><router-outlet></router-outlet><div slug="" ngh="2"><article class="flex flex-col items-center *:max-w-screen-xl *:mx-8 md:*:mx-32 pb-8"><img sizes="(max-width: 1280px) 100vw, 1280px" class="w-full h-auto" srcset="/images/activemq/activemq-2.svg 480w, /images/activemq/activemq-2.svg 800w, /images/activemq/activemq-2.svg 1280w" src="/images/activemq/activemq-2.svg" alt="apache activemq artemis logo"><p class="flex flex-row items-center my-4"><span>2025-09-27</span><a href="https://github.com/bneuhausz" target="_blank" rel="noopener" class="flex items-center"><span class="w-5 h-5 ml-3 bg-amber-100 github-icon"></span></a><a href="mailto:bneuhauszdev@gmail.com" class="flex items-center ml-3"><ng-icon role="img" name="heroEnvelopeSolid" _nghost-ng-c572653062="" aria-hidden="true" data-ng-icon-ssr="" style="--ng-icon__size: 1.5em;" ngh="0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon"><path d="M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"></path><path d="M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"></path></svg></ng-icon></a></p><div appcodecopybutton="" appexternallinks="" class="prose dark:prose-invert text-left mb-8"><analog-markdown ngh="1"><div class="analog-markdown"><h1 id="amqp-10-messaging-in-net-with-apache-artemis---part-1">AMQP 1.0 Messaging in .NET with Apache Artemis - Part 1</h1>
<blockquote>
<sub>
<b>Changelog:</b><br>
<b>2025-10-01:</b> Added link to part 2.<br>
</sub></blockquote>
<p>In this series, we will look at using AMQP 1.0 in .NET. We will use a dockerized instance of Apache's ActiveMQ Artemis as our message broker. We'll briefly discuss AMQP 1.0, but a deep dive is beyond the scope of this article. In this first post, we will look at setting up Artemis and creating our .NET application.</p><h2 id="what-is-amqp-10">What is AMQP 1.0?</h2>
<p>Advanced Message Queuing Protocol (AMQP) 1.0 is one of the most flexible and powerful messaging protocols out there- It aims to make interapplication communication reliable, regardless of the technology used to create them. Think along the lines of connecting microservices, procssing IoT data streams or ensuring financial transactions are never lost. At its core, this protocol defines how clients can connect to and communicate with a message broker.</p><p><a href="https://www.oasis-open.org/committees/tc_home.php?wg_abbrev=amqp">If you want to dive deep into AMQP itself, here's the specification.</a></p><h2 id="how-does-artemis-come-into-the-picture">How does Artemis come into the picture?</h2>
<p>Apache's ActiveMQ Artemis is an open-source, high-performance message broker that fluently speaks AMQP 1.0, among other protocols like MQTT. Our .NET application will use the AMQP 1.0 protocol to send messages to Artemis, and Artemis is responsible for distributing those messages to one or more receivers. We'll later look at using both queues and topics, but for now, think of Artemis as the middleman that receives and distributes our messages. Think of it like a post office.</p><h2 id="setting-up-our-artemis-instance-with-the-help-of-docker">Setting up our Artemis instance with the help of Docker</h2>
<p><a href="https://hub.docker.com/r/apache/activemq-artemis">The official Artemis image, maintained by The Apache Software Foundation, can be found on Docker Hub.</a> We'll use this image for our local instance. Let's set up our <code>docker-compose.yml</code> file:</p><pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#85E89D">services</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#85E89D">  artemis</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#85E89D">    image</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">apache/activemq-artemis:latest-alpine</span></span>
<span class="line"><span style="color:#85E89D">    container_name</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">artemis</span></span>
<span class="line"><span style="color:#85E89D">    ports</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">      - </span><span style="color:#9ECBFF">"8161:8161"</span></span>
<span class="line"><span style="color:#E1E4E8">      - </span><span style="color:#9ECBFF">"5672:5672"</span></span>
<span class="line"><span style="color:#85E89D">    environment</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">      - </span><span style="color:#9ECBFF">ARTEMIS_USER=admin</span></span>
<span class="line"><span style="color:#E1E4E8">      - </span><span style="color:#9ECBFF">ARTEMIS_PASSWORD=admin</span></span>
<span class="line"><span style="color:#85E89D">    volumes</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">      - </span><span style="color:#9ECBFF">dotnet-artemis:/var/lib/artemis-instance</span></span>
<span class="line"></span>
<span class="line"><span style="color:#85E89D">volumes</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#85E89D">  dotnet-artemis</span><span style="color:#E1E4E8">:</span></span></code></pre>
<p>This is fairly straightforward, but let's run through the important parts. We use <code>apache/activemq-artemis:latest-alpine</code> as our base image and set <code>artemis</code> as the name ouf our container, which is totally optional.</p><p>We expose ports <code>8161</code> abd <code>5672</code> available. After starting our container, the Artemis Console will be available at the <a href="http://localhost:8161">http://localhost:8161</a>, and <code>5672</code> is the default AMQP port, which we will also need to access.</p><p>Then we set up a user with the username and password of <code>admin</code>. It goes without saying that you should not do this in a production environment.</p><p>As a last step, we set up a named volume to make our data persistent.</p><p>If you open a terminal in the folder that containes this <code>docker-compose.yml</code> file, you just have to run</p><pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#B392F0">docker</span><span style="color:#9ECBFF"> compose</span><span style="color:#9ECBFF"> up</span></span></code></pre>
<p>whenever you want to start our Artemis instance and</p><pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#B392F0">docker</span><span style="color:#9ECBFF"> compose</span><span style="color:#9ECBFF"> down</span></span></code></pre>
<p>whenever you want to stop it.</p><p>If you've done it right, you should see something like this when you navigate to <a href="http://localhost:8161">http://localhost:8161</a></p><p><img src="/images/dotnet-artemis/part-1/artemis-console.avif" alt="Artemis Console login page"></p><h2 id="setting-up-our-net-app">Setting up our .NET app</h2>
<p>For this demo, let's just create a basic console application. In this demo, I'll use .NET 8 and Visual Studio 2022.</p><p><img src="/images/dotnet-artemis/part-1/create-console-app.avif" alt="Creating a console app in Visual Studio 2022"></p><p>Our starting code is this simple line:</p><pre class="shiki github-dark" style="background-color:#24292e;color:#e1e4e8" tabindex="0"><code><span class="line"><span style="color:#E1E4E8">Console.</span><span style="color:#B392F0">WriteLine</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"Hello, World!"</span><span style="color:#E1E4E8">);</span></span></code></pre>
<p>In the following articles, we'll talk a lot more about the .NET application itself, but in this first part, we'll leave it as it is.</p><h2 id="enabling-amqp-10-communication">Enabling AMQP 1.0 communication</h2>
<p>The last thing I want to cover in this article is installing the <a href="https://www.nuget.org/packages/AMQPNetLite.Core/">AMQPNetLite.Core package</a>. This package is maintained by the Microsoft Azure team and it includes both a client and a listener, so it enables both peer to peer and broker based messaging. We'll utilize this package to both send/receive messages to/from Artemis, so let's add it through NuGet:</p><p><img src="/images/dotnet-artemis/part-1/installing-amqpnetlite-core.avif" alt="Installing AMQPNetLite.Core"></p><p>With this, the basic building blocks are in place, so I'll end this article here. In the following posts, we'll start talking about more practical things, like setting up our queues/topics and sending messages to them, so stay tuned!</p><p><a href="https://github.com/bneuhausz/dotnet-amqp-messaging/tree/part-1">The source code for this article can be found here.</a></p><p><a href="https://bneuhausz.dev/blog/dotnet-activemq-artemis-part-2">Part 2, covering actually sending a message to Artemis is out. Take a look!</a></p></div><!----></analog-markdown></div></article><!----></div><!----></main><appfooter ngh="0"><footer class="footer-horizontal bg-neutral text-amber-100 p-4"><aside class="flex gap-8 justify-center"><a routerlink="/creative-commons" href="/creative-commons">© Creative Commons</a><a routerlink="/privacy" href="/privacy">Privacy Policy</a></aside></footer></appfooter></app-root>
    
  

<script id="ng-state" type="application/json">{"__nghData__":[{},{"c":{"0":[]}},{"t":{"0":"t5"},"c":{"0":[{"i":"t5","r":1}]}},{"c":{"2":[{"i":"c3636043166","r":1}]}}]}</script></body></html>